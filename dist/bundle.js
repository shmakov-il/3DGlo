(()=>{"use strict";function e(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o,r,i,a,l,s,c,u,d,p,v,m,h,f,y,g,w;y=document.getElementById("timer-hours"),g=document.getElementById("timer-minutes"),w=document.getElementById("timer-seconds"),requestAnimationFrame((function e(){requestAnimationFrame(e);var t,n,o,r,i=(t=(new Date("21 march 2021").getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),o=Math.floor(t/60%60),{timeRemaining:t,hours:(r=function(e){return e<10?e="0"+e:e})(Math.floor(t/60/60)),minutes:r(o),seconds:r(n)});i.timeRemaining>0&&(y.textContent=i.hours,g.textContent=i.minutes,w.textContent=i.seconds),i.timeRemaining<=0&&(clearInterval(e),y.textContent="00",g.textContent="00",w.textContent="00")})),h=document.querySelector("menu"),f=function(){h.classList.toggle("active-menu")},document.addEventListener("click",(function(e){var t=e.target,n=t.closest(".menu"),o=t.closest(".close-btn"),r=t.closest("ul>li>a");null!==n&&window.innerWidth<768?h.style.transform="translateX(100%)":(null!==o&&window.innerWidth<768||null!==r&&window.innerWidth<768)&&(h.style.transform="translateX(-100%)")})),document.addEventListener("click",(function(e){var t=e.target,n=t.closest(".menu"),o=t.closest(".close-btn"),r=t.closest("ul>li>a");null!==n&&window.innerWidth>=768?(h.removeAttribute("style"),f()):(null!==o||null!==r)&&window.innerWidth>=768&&f()})),d=document.querySelector(".popup"),p=document.querySelector(".popup-content"),v=document.querySelector(".service"),m=document.querySelectorAll(".popup-btn"),v.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-btn")&&m.forEach((function(e){var n,o;e===t&&window.innerWidth<768?d.style.display="block":e===t&&window.innerWidth>=768&&(d.style.display="block",n=0,o=document.documentElement.offsetHeight/50,requestAnimationFrame((function e(){requestAnimationFrame(e),(n+=5)-5<o?p.style.top=n+"px":n===o&&cancelAnimationFrame(e)})))}))})),d.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?d.style.display="none":(t=t.closest(".popup-content"))||(d.style.display="none")})),s=document.querySelector(".service-header"),c=document.querySelectorAll(".service-header-tab"),u=document.querySelectorAll(".service-tab"),s.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab")).classList.contains("service-header-tab")&&c.forEach((function(e,n){e===t&&function(e){for(var t=0;t<u.length;t++)e===t?(c[t].classList.add("active"),u[t].classList.remove("hidden")):(c[t].classList.remove("active"),u[t].classList.add("hidden"))}(n)}))})),function(){var e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-content");e.forEach((function(){var e=document.createElement("li");e.setAttribute("class","dot"),document.querySelector(".portfolio-dots").appendChild(e)}));var n,o=0,r=document.querySelectorAll(".dot");0===o&&r[0].setAttribute("class","dot dot-active");var i=function(e,t,n){e[t].classList.remove(n)},a=function(e,t,n){e[t].classList.add(n)},l=function(){i(e,o,"portfolio-item-active"),i(r,o,"dot-active"),++o>=e.length&&(o=0),a(e,o,"portfolio-item-active"),a(r,o,"dot-active")},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;n=setInterval(l,e)};t.addEventListener("click",(function(t){t.preventDefault();var n=t.target;n.matches(".portfolio-btn, .dot")&&(i(e,o,"portfolio-item-active"),i(r,o,"dot-active"),n.matches("#arrow-right")?o++:n.matches("#arrow-left")?o--:n.matches(".dot")&&r.forEach((function(e,t){e===n&&(o=t)})),o>=e.length&&(o=0),o<0&&(o=e.length-1),a(e,o,"portfolio-item-active"),a(r,o,"dot-active"))})),t.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&s()})),s()}(),(l=document.querySelectorAll(".command__photo")).forEach((function(e){e.addEventListener("mouseover",(function(e){var t=e.target,n=[t.dataset.img,t.src];t.src=n[0],t.dataset.img=n[1]}))})),l.forEach((function(e){e.addEventListener("mouseout",(function(e){var t=e.target,n=[t.src,t.dataset.img];t.dataset.img=n[0],t.src=n[1]}))})),document.querySelector(".calc-block").addEventListener("input",(function(e){var t=e.target;t.matches('[type="text"]')&&(t.value=t.value.replace(/\D/g,""))})),document.querySelectorAll('[placeholder="Номер телефона"]').forEach((function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^+0-9]/g,"")}))})),document.querySelectorAll('[placeholder="Ваш номер телефона"]').forEach((function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^+0-9]/g,"")}))})),document.querySelectorAll('[placeholder="E-mail"').forEach((function(e){e.setAttribute("required",""),e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^a-z@\-.']/gi,"")})),e.addEventListener("blur",(function(e){var t=e.target;if(!1===/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t.value))return t.value="",!1}))})),document.querySelectorAll('[placeholder="Ваш E-mail"').forEach((function(e){e.setAttribute("required",""),e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^a-z@\-.']/gi,"")})),e.addEventListener("blur",(function(e){var t=e.target;if(!1===/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t.value))return t.value="",!1}))})),o=document.querySelectorAll('[placeholder="Ваше имя"]'),r=document.querySelectorAll('[placeholder="Ваше сообщение"]'),i=function(e){var t=e.target;t.value=t.value.replace(/[^а-я-ё\-\s]/gi,"")},a=function(e){var t=e.target;t.value=t.value.replace(/[^а-я-ё\d\s.,!?:;]/gi,"")},o.forEach((function(e){e.addEventListener("input",i),e.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/ +/g," ").trim(),t.value=t.value.replace(/([А-ЯЁ])/g,(function(e){return e.toLowerCase()})),t.value=t.value.replace(/(( |^)[а-яё])(?=[а-яё])/g,(function(e){return e.toUpperCase()})),1===t.value.length&&(t.value="")}))})),r.forEach((function(e){e.addEventListener("input",a),e.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/^[ -]*|( |-)(?=\1)|[ -]*$/g,"").replace(/ +/g," ").trim()}))})),document.querySelectorAll("form").forEach((function(e){e.querySelectorAll("input").forEach((function(e){e.addEventListener("blur",(function(e){var t=e.target;if("Номер телефона"===t.placeholder||"Ваш номер телефона"===t.placeholder){var n=function(e){var n=e.substr(0,1),o=t.value,r=o.replace(/[a-zа-яё/.,\-=_)({*&$%#@'"!~^:;?`<>№|\\})]/gi,"");return(o=r).length<11?o="":"+"===n?o=o.substr(1).includes("+")||"7"!==o[1]?"":o.substr(0,12):"7"===n||"8"===n?o=o.substr(1).includes("+")?"":o.substr(0,11):"+"!==n||"7"!==n||"8"!==n?o="":void 0}(t.value.replace(/[a-zа-яё/.,\-=_)({*&$%#@'"!~^:;?`<>№|\\})]/gi,""));t.value=n}}))}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;function t(e){var t=e.timing,n=e.draw,o=e.duration,r=performance.now();requestAnimationFrame((function e(i){var a=(i-r)/o;a>1&&(a=1);var l=t(a);n(l),a<1&&requestAnimationFrame(e)}))}var n=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),i=document.querySelector(".calc-count"),a=document.querySelector(".calc-day"),l=document.getElementById("total"),s=function(){var n=0,s=1,c=1,u=+o.options[o.selectedIndex].value,d=+r.value;i.value>1&&(s+=(i.value-1)/10),a.value&&a.value<5?c*=2:a.value&&a.value<10&&(c*=1.5),u&&d&&(n=e*u*d*s*c),t({duration:500,timing:function(e){return e},draw:function(e){l.textContent=Math.floor(e*n)}})};n.addEventListener("input",(function(e){var t=e.target;(t.matches(".calc-type")||t.matches(".calc-square")||t.matches(".calc-count")||t.matches(".calc-day"))&&s()}))}(),document.body.addEventListener("submit",(function(e){e.preventDefault(),function(e){var t=document.createElement("div");t.style.cssText="font-size: 2rem; \n  color: white; \n  ",e.appendChild(t),t.textContent="Загрузка...";var n=new FormData(e),o={};n.forEach((function(e,t){o[t]=e})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(o).then((function(n){if(200!==n.status)throw new Error("status network not 200");e.reset(),t.innerHTML="Отправлено!",setTimeout((function(){t.parentNode.removeChild(t),document.querySelector(".popup").style.display="none"}),4e3)})).catch((function(e){t.innerHTML="Что-то пошло не так...",console.error(e)}))}(e.target)})),new(function(){function o(e){var t=e.main,n=e.wrap,r=e.position,i=void 0===r?0:r,a=e.next,l=e.prev,s=e.slideToShow,c=void 0===s?3:s,u=e.infinity,d=void 0!==u&&u,p=e.responsive,v=void 0===p?[]:p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t||n||alert("Необходимо задать 2 свойства: main, wrap."),this.main=document.querySelector(t),this.wrap=document.querySelector(n),this.slides=document.querySelector(n).children,this.next=document.querySelector(a),this.prev=document.querySelector(l),this.slideToShow=c,this.options={position:i,widthSlide:Math.ceil(100/this.slideToShow),infinity:d,maxPosition:this.slides.length-this.slideToShow},this.responsive=v}var r,i;return r=o,(i=[{key:"addClass",value:function(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");var t,n=function(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=e(t))){o&&(t=o);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var e=o.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==o.return||o.return()}finally{if(s)throw a}}}}(this.slides);try{for(n.s();!(t=n.n()).done;)t.value.classList.add("glo-slider__item")}catch(e){n.e(e)}finally{n.f()}}},{key:"addStyle",value:function(){var e=document.getElementById("sliderCarusel-style");e||((e=document.createElement("style")).id="sliderCarusel-style"),e.textContent="\n        .glo-slider {\n          overflow: hidden !important;\n        }\n        .glo-slider__wrap {\n          display: flex !important;\n          transition: transform 0.5s !important;\n          will-change: transform !important;\n        }\n        .glo-slider__item {\n          margin: auto 0 !important;\n          display: flex !important;\n          align-items: center !important;\n          justify-content: center !important;\n          flex: 0 0 ".concat(this.options.widthSlide,"% !important;\n        }\n        .glo-slider__prev,\n        .glo-slider__next {\n          margin: 0 20px;\n          border: 15px solid transparent;\n          background: transparent;\n          \n        }\n        .glo-slider__next {\n          border-left-color: #19b5fe\n        }\n        .glo-slider__prev {\n          border-right-color: #19b5fe\n        }\n        .glo-slider__prev:hover,\n        .glo-slider__next:hover,\n        .glo-slider__prev:focus,\n        .glo-slider__next:focus {\n          background: transparent;\n          outline: transparent;\n        }\n\n      "),document.head.appendChild(e)}},{key:"ctrlSlider",value:function(){this.next.addEventListener("click",this.nextSlider.bind(this)),this.prev.addEventListener("click",this.prevSlider.bind(this))}},{key:"nextSlider",value:function(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform="\n        translateX(-".concat(this.options.widthSlide*this.options.position,"%)\n      "))}},{key:"prevSlider",value:function(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform="\n        translateX(-".concat(this.options.widthSlide*this.options.position,"%)\n        "))}},{key:"addArrow",value:function(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__prev",this.next.className="glo-slider__next",this.main.appendChild(this.prev),this.main.appendChild(this.next)}},{key:"responsiveInit",value:function(){var n,o=this,r=this.slideToShow,i=this.responsive.map((function(e){return e.breakpoint})),a=Math.max.apply(Math,function(e){if(Array.isArray(e))return t(e)}(n=i)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||e(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=function(){var e=document.documentElement.clientWidth;if(e<a)for(var t=0;t<i.length;t++)e<i[t]&&(o.slideToShow=o.responsive[t].slideToShow,o.options.widthSlide=Math.floor(100/o.slideToShow),o.addStyle());else o.slideToShow=r,o.options.widthSlide=Math.floor(100/o.slideToShow),o.addStyle()};l(),window.addEventListener("resize",l)}},{key:"init",value:function(){this.addClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.ctrlSlider(),this.responsive&&this.responsiveInit()}}])&&n(r.prototype,i),o}())({main:".companies-wrapper",wrap:".companies-hor",slideToShow:4,infinity:!0,responsive:[{breakpoint:1024,slideToShow:3},{breakpoint:768,slideToShow:2},{breakpoint:576,slideToShow:1}]}).init(),document.querySelector("#main-view").addEventListener("click",(function(e){e.preventDefault();var t,n,o,r=e.target.closest("a");if(r){var i=r.getAttribute("href");t=document.querySelector(i).getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop,o=t.top+n,window.scrollTo({top:o,behavior:"smooth"})}}))})();